<!DOCTYPE html>
<html>
<head>
	<title>Page1</title>
	<script type="text/javascript" src="../js/jquery-1.10.2.js"></script>
	<script type="text/javascript" src="../js/highcharts.js"></script>
    <script type="text/javascript" src="../js/highcharts-more.js"></script>
    <script type="text/javascript" src="../js/data.js"></script>
	<script type="text/javascript">
$(function () {
var datasource = global_data;
var series_data = [];

$.each(datasource,function(index,sprint){


})

    $('#container').highcharts({
        chart: {
            plotBackgroundColor: null,
            plotBorderWidth: 1,//null,
            plotShadow: false
        },
        title: {
            text: 'FreightIn Sprint2'
        },
        tooltip: {
    	    pointFormat: '{series.name}: <b>{point.y:.1f}</b><br>Total: <b>{point.total}</b>'
        },
        plotOptions: {
            pie: {
                allowPointSelect: true,
                cursor: 'pointer',
                dataLabels: {
                    enabled: true,
                    format: '<b>{point.name}</b>: {point.percentage:.1f}%',
                    style: {
                        color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                    }
                }
                /*events:{
                	click:function(){
                		var cate = event.point;
						console.log(cate);
                        console.log(cate.selected);
                		preparedata(cate.name);
                    }
                }*/
            }
        },
        series: [{
            type: 'pie',
            name: 'Time Consume',
            data: 
                [ 
                    ['Requirement',   45.0],
                    ['Backlog & Refined',   45.0],
                    ['Coding',       26.8],
                    ['Testing',       26.8],
                    ['Release',       26.8]
                ]
        }]
    });

    $('#container2').highcharts({
        chart: {
            type: 'waterfall'
        },
        title: {
            text: 'Sprint'
        },
        xAxis: {
            type: 'category'
        },
        yAxis: {
            title: {
                text: 'Hours'
            }
        },
        legend: {
            enabled: false
        },
        tooltip: {
            pointFormat: '<b>{point.y:,.2f}</b>'
        },

        series: [{
            upColor: Highcharts.getOptions().colors[2],
            color: Highcharts.getOptions().colors[3],
            data: [{
                name: 'Requirement',
                y: 20
            }, {
                name: 'Backlog & Refined',
                y: 20
            }, {
                name: 'Coding',
                y: 20
            },{
                name: 'Testing',
                y: 20
            },{
                name: 'Release',
                y: 20
            },{
                name: 'Others',
                y: 20
            },{
                name: 'Total Hours',
                isIntermediateSum: true,
                color: Highcharts.getOptions().colors[1]
            }],
            dataLabels: {
                enabled: true,
                formatter: function () {
                    return Highcharts.numberFormat(this.y, 0, ',') + 'h';
                },
                style: {
                    color: '#FFFFFF',
                    fontWeight: 'bold',
                    textShadow: '0px 0px 3px black'
                }
            },
            pointPadding: 0
        }]
    });
/*
    function preparedata(name){
    	switch(name){
    		case 'Requirement':
    		var data = [49.9, 71.5, 106.4, 129.2, 144.0, 176.0];
    			paintdetail(data,name,categories);
    			break;
    		case 'Backlog & Refined':
    		var data = [49.9, 71.5, 106.4, 129.2, 144.0, 176.0];
    			paintdetail(data,name,categories);
    			break;
    		case 'Coding':
    		var data = [49.9, 71.5, 106.4, 129.2, 144.0, 176.0];
    			paintdetail(data,name,categories);
    			break;
			case 'Testing':
    		var data = [49.9, 71.5, 106.4, 129.2, 144.0, 176.0];
    			paintdetail(data,name,categories);
    			break;
    		case 'Release':
    		var data = [49.9, 71.5, 106.4, 129.2, 144.0, 176.0];
    			paintdetail(data,name,categories);
    			break;
    		default:alert('2');
    	}
    }
    var categories = [
                    'Eben',
                    'Kris',
                    'Jax',
                    'Charlie',
                    'Errn',
                    'Lucy'
                ]
function paintdetail(data,title,categories){
    $('#container2').highcharts({
            chart: {
                type: 'column'
            },
            title: {
                text: title
            },
            xAxis: {
                categories: categories
            },
            yAxis: {
                min: 0,
                title: {
                    text: 'Time Spent'
                }
            },
            tooltip: {
                headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                    '<td style="padding:0"><b>{point.y:.1f} hours</b></td></tr>',
                footerFormat: '</table>',
                shared: true,
                useHTML: true
            },
            plotOptions: {
                column: {
                    pointPadding: 0.2,
                    borderWidth: 0
                }
            },
            series: [{
            	name:title,
                data: data
            }]
        });
    }
*/
});
	</script>
</head>

<body>

<div id="container" style="min-width: 510px; height: 400px; max-width: 1000px; margin: 0 auto"></div>
<br/>
<br/>
<div id="container2" style="min-width: 510px; height: 400px; max-width: 1000px; margin: 0 auto"></div>

</body>
</html>